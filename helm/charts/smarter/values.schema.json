{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "global": {
      "type": "object",
      "properties": {
        "image": {
          "type": "object",
          "properties": {
            "pullPolicy": { "type": "string" },
            "repository": { "type": "string" },
            "tag": { "type": "string" }
          }
        },
        "affinity": { "type": "object" },
        "imagePullSecrets": {
          "type": "array",
          "items": { "type": "object" }
        },
        "tolerations": {
          "type": "array",
          "items": { "type": "object" }
        }
      }
    },
    "app": {
      "type": "object",
      "properties": {
        "replicaCount": { "type": "integer", "minimum": 1 },
        "resources": { "type": "object" },
        "extraVolumeMounts": {
          "type": "array",
          "items": { "type": "object" }
        }
      }
    },
    "worker": {
      "type": "object",
      "properties": {
        "replicaCount": { "type": "integer", "minimum": 1 },
        "resources": { "type": "object" }
      }
    },
    "beat": {
      "type": "object",
      "properties": {
        "replicaCount": { "type": "integer", "minimum": 1 },
        "resources": { "type": "object" }
      }
    },
    "database": {
      "type": "object",
      "properties": {
        "type": { "type": "string", "enum": ["mysql", "mariadb", "external"] }
      }
    },
    "deployTimestamp": { "type": "string" },
    "deployment": {
      "type": "object",
      "properties": {
        "containerPort": { "type": "integer" }
      }
    },
    "env": {
      "type": "object",
      "properties": {
        "AWS_ACCESS_KEY_ID": { "type": "string" },
        "AWS_REGION": { "type": "string" },
        "AWS_SECRET_ACCESS_KEY": { "type": "string" },
        "CACHES_LOCATION": { "type": "string" },
        "CELERY_BROKER_URL": { "type": "string" },
        "CELERY_RESULT_BACKEND": { "type": "string" },
        "DEBUG_MODE": { "type": "string" },
        "DOCKERHUB_USERNAME": { "type": "string" },
        "DOCKERHUB_PAT": { "type": "string" },
        "DUMP_DEFAULTS": { "type": "string" },
        "DJANGO_SETTINGS_MODULE": { "type": "string" },
        "ENVIRONMENT": { "type": "string" },
        "FERNET_ENCRYPTION_KEY": { "type": "string" },
        "GEMINI_API_KEY": { "type": "string" },
        "GOOGLE_MAPS_API_KEY": { "type": "string" },
        "LLAMA_API_KEY": { "type": "string" },
        "MAILCHIMP_API_KEY": { "type": "string" },
        "MAILCHIMP_LIST_ID": { "type": "string" },
        "MYSQL_HOST": { "type": "string" },
        "MYSQL_PORT": { "type": "string" },
        "MYSQL_DATABASE": { "type": "string" },
        "MYSQL_USER": { "type": "string" },
        "MYSQL_PASSWORD": { "type": "string" },
        "MYSQL_ROOT_USERNAME": { "type": "string" },
        "MYSQL_ROOT_PASSWORD": { "type": "string" },
        "NAMESPACE": { "type": "string" },
        "OPENAI_API_KEY": { "type": "string" },
        "PINECONE_API_KEY": { "type": "string" },
        "PINECONE_ENVIRONMENT": { "type": "string" },
        "ROOT_DOMAIN": { "type": "string" },
        "SECRET_KEY": { "type": "string" },
        "SMARTER_DOCKER_IMAGE": { "type": "string" },
        "SOCIAL_AUTH_GOOGLE_OAUTH2_KEY": { "type": "string" },
        "SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET": { "type": "string" },
        "SOCIAL_AUTH_GITHUB_KEY": { "type": "string" },
        "SOCIAL_AUTH_GITHUB_SECRET": { "type": "string" },
        "SOCIAL_AUTH_LINKEDIN_OAUTH2_KEY": { "type": "string" },
        "SOCIAL_AUTH_LINKEDIN_OAUTH2_SECRET": { "type": "string" },
        "SMARTER_MYSQL_TEST_DATABASE_PASSWORD": { "type": "string" },
        "SMARTER_LOGIN_URL": { "type": "string" },
        "SMARTER_ADMIN_USERNAME": { "type": "string" },
        "SMARTER_ADMIN_PASSWORD": { "type": "string" },
        "SMARTER_ADMIN_EMAIL": { "type": "string" },
        "SMTP_HOST": { "type": "string" },
        "SMTP_PORT": { "type": "string" },
        "SMTP_USE_SSL": { "type": "string" },
        "SMTP_USE_TLS": { "type": "string" },
        "SMTP_USERNAME": { "type": "string" },
        "SMTP_PASSWORD": { "type": "string" }
      }
    },
    "externalDatabase": {
      "type": "object",
      "properties": {
        "host": { "type": "string" },
        "port": { "type": "integer" },
        "database": { "type": "string" },
        "username": { "type": "string" },
        "password": { "type": "string" }
      }
    },
    "mysql": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "auth": {
          "type": "object",
          "properties": {
            "rootPassword": { "type": "string" },
            "password": { "type": "string" },
            "database": { "type": "string" },
            "username": { "type": "string" }
          }
        },
        "containerSecurityContext": { "type": "object" },
        "extraEnv": {
          "type": "array",
          "items": { "type": "object" }
        },
        "extraVolumeMounts": {
          "type": "array",
          "items": { "type": "object" }
        },
        "extraVolumes": {
          "type": "array",
          "items": { "type": "object" }
        },
        "image": { "type": "object" },
        "initdbScripts": { "type": "object" },
        "livenessProbe": { "type": "object" },
        "nodeSelector": { "type": "object" },
        "persistence": { "type": "object" },
        "podSecurityContext": { "type": "object" },
        "resources": { "type": "object" },
        "readinessProbe": { "type": "object" },
        "service": { "type": "object" }
      }
    },
    "mariadb": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "auth": {
          "type": "object",
          "properties": {
            "rootPassword": { "type": "string" },
            "password": { "type": "string" },
            "database": { "type": "string" },
            "username": { "type": "string" }
          }
        },
        "containerSecurityContext": { "type": "object" },
        "extraEnv": {
          "type": "array",
          "items": { "type": "object" }
        },
        "extraVolumeMounts": {
          "type": "array",
          "items": { "type": "object" }
        },
        "extraVolumes": {
          "type": "array",
          "items": { "type": "object" }
        },
        "image": { "type": "object" },
        "initdbScripts": { "type": "object" },
        "livenessProbe": { "type": "object" },
        "nodeSelector": { "type": "object" },
        "persistence": { "type": "object" },
        "podSecurityContext": { "type": "object" },
        "resources": { "type": "object" },
        "readinessProbe": { "type": "object" },
        "service": { "type": "object" }
      }
    },
    "redis": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "external": {
          "type": "object",
          "properties": {
            "host": { "type": "string" },
            "port": { "type": "integer" },
            "password": { "type": "string" }
          }
        },
        "fullnameOverride": { "type": "string" },
        "auth": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "password": { "type": "string" }
          }
        },
        "architecture": { "type": "string" },
        "master": { "type": "object" }
      }
    },
    "service": {
      "type": "object",
      "properties": {
        "port": { "type": "integer" },
        "targetPort": { "type": "integer" }
      }
    },
    "prometheus": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "server": {
          "type": "object",
          "properties": {
            "persistentVolume": {
              "type": "object",
              "properties": {
                "enabled": { "type": "boolean" }
              }
            }
          }
        }
      }
    },
    "grafana": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "adminPassword": { "type": "string" },
        "persistence": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" }
          }
        },
        "datasources": { "type": "object" }
      }
    },
    "loki": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "persistence": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" }
          }
        }
      }
    },
    "names": {
      "type": "object",
      "properties": {
        "appName": { "type": "string" },
        "mysqlName": { "type": "string" },
        "mariadbName": { "type": "string" }
      }
    }
  }
}
